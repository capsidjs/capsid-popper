{"version":3,"file":"index.js","sources":["../index.js"],"sourcesContent":["const Popper = require('popper.js')\n\n/**\n * @param {Capsid} capsid The capsid object\n * @param {string} [name] The name of the component. Default `popper`\n */\nexports.install = (capsid, { name } = {}) => {\n  name = name || 'popper'\n\n  /**\n   * Popper component\n   *\n   * @example\n   *   <div class=\"popper\" data-popper-ref=\"#ref-el\" data-popper-placement=\"left-start\"></div>\n   *\n   * @see https://popper.js.org/popper-documentation.html#Popper.placements for available placements\n   */\n  class PopperComponent {\n    __init__ () {\n      const { popperRef, popperPlacement } = this.el.dataset\n\n      const parent = this.el.parentElement || document\n\n      const ref = parent.querySelector(popperRef)\n\n      if (!ref) {\n        throw new Error(`popper reference not found: data-popper-ref=\"${popperRef}\"`)\n      }\n\n      if (!popperPlacement) {\n        throw new Error(`popper placement is not specified: data-popper-placement=\"${popperPlacement}\"`)\n      }\n\n      this.popper = new Popper(ref, this.el, popperPlacement)\n\n      if (this.el.style.display === 'none') {\n        this.el.style.display = ''\n      }\n    }\n  }\n\n  capsid.def(name, PopperComponent)\n}\n"],"names":["const","Popper","require","exports","install","capsid","ref","name","PopperComponent","__init__","this","el","dataset","popperRef","popperPlacement","parentElement","document","querySelector","Error","popper","style","display","def"],"mappings":"AAAAA,IAAMC,EAASC,QAAQ,aAMvBC,QAAQC,iBAAWC,EAAQC,0BAAEC,SAC3BA,EAAOA,GAAQ,SAUf,IAAMC,2BACJC,0BACyCC,KAAKC,GAAGC,QAAvCC,cAAWC,oBAIbR,GAFSI,KAAKC,GAAGI,eAAiBC,UAErBC,cAAcJ,OAE5BP,QACG,IAAIY,sDAAsDL,WAG7DC,QACG,IAAII,mEAAmEJ,YAG1EK,OAAS,IAAIlB,EAAOK,EAAKI,KAAKC,GAAIG,GAET,SAA1BJ,KAAKC,GAAGS,MAAMC,eACXV,GAAGS,MAAMC,QAAU,KAK9BhB,EAAOiB,IAAIf,EAAMC"}